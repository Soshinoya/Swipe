import { useRef, useState } from "react"

const AccordionItem = ({ title, text }) => {

    const accordionBody = useRef(null)

    const [isOpened, setIsOpened] = useState(false)

    const accordionClickhandler = () => {
        setIsOpened(!isOpened)
        accordionBody.current.style.maxHeight = !isOpened ? accordionBody.current.scrollHeight + 'px' : 0
    }

    return (
        <li className="accordion">
            <div className="accordion-top d-flex align-items-center" onClick={accordionClickhandler}>
                <svg width="55" height="55" viewBox="0 0 55 55" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M36.0251 4.12597C35.7007 4.77895 35.649 5.53396 35.881 6.22509C36.1131 6.91622 36.6099 7.48693 37.2626 7.81189C40.7776 9.55285 43.7634 12.2022 45.9107 15.4854C48.0579 18.7686 49.2885 22.5663 49.475 26.4853C49.6616 30.4041 48.7972 34.3016 46.9715 37.7741C45.1458 41.2465 42.4253 44.1675 39.0914 46.2347C35.7576 48.3019 31.932 49.4399 28.0107 49.531C24.0892 49.6221 20.2149 48.6628 16.7888 46.7527C13.3627 44.8425 10.5095 42.0508 8.52459 38.6669C6.53975 35.283 5.4955 31.4298 5.50001 27.5064C5.48226 23.4049 6.62101 19.3815 8.78556 15.8979C10.9501 12.4144 14.0529 9.61173 17.7375 7.81189C18.394 7.48355 18.8931 6.9079 19.1251 6.2115C19.3572 5.51512 19.3032 4.75503 18.975 4.09846C18.6467 3.4419 18.0712 2.94264 17.3751 2.7105C16.6789 2.47838 15.919 2.53239 15.2625 2.86067C9.70956 5.62066 5.25213 10.1767 2.6137 15.7895C-0.0247361 21.4022 -0.689289 27.7421 0.727888 33.7801C2.14505 39.8182 5.56077 45.1999 10.4206 49.0519C15.2805 52.9039 21.2993 55 27.5 55C33.7008 55 39.7195 52.9039 44.5793 49.0519C49.4393 45.1999 52.8549 39.8182 54.2721 33.7801C55.6893 27.7421 55.0247 21.4022 52.3863 15.7895C49.7479 10.1767 45.2904 5.62065 39.7375 2.86067C39.4112 2.69676 39.0556 2.59945 38.6914 2.57444C38.3273 2.54942 37.9616 2.59719 37.616 2.71496C37.2705 2.83275 36.9518 3.01817 36.6787 3.26042C36.4055 3.50267 36.1833 3.79692 36.0251 4.12597V4.12597ZM24.75 2.75065V29.1293L18.4526 22.8028C18.1961 22.5464 17.8917 22.3429 17.5567 22.2042C17.2217 22.0653 16.8626 21.9939 16.5 21.9939C16.1374 21.9939 15.7784 22.0653 15.4434 22.2042C15.1083 22.3429 14.804 22.5464 14.5475 22.8028C14.2911 23.0593 14.0877 23.3638 13.949 23.6989C13.8101 24.034 13.7387 24.3931 13.7387 24.7558C13.7387 25.1185 13.8101 25.4776 13.949 25.8127C14.0877 26.1478 14.2911 26.4523 14.5475 26.7088L25.5476 37.7113C25.8091 37.9618 26.1174 38.158 26.4551 38.289C27.1246 38.5641 27.8755 38.5641 28.545 38.289C28.8825 38.158 29.191 37.9618 29.4525 37.7113L40.4525 26.7088C40.7103 26.4531 40.9149 26.1489 41.0544 25.8136C41.194 25.4784 41.266 25.1189 41.266 24.7558C41.266 24.3927 41.194 24.0332 41.0544 23.698C40.9149 23.3628 40.7103 23.0586 40.4525 22.8028C40.1968 22.5451 39.8926 22.3404 39.5576 22.2007C39.2225 22.0611 38.8631 21.9892 38.5001 21.9892C38.1369 21.9892 37.7775 22.0611 37.4423 22.2007C37.1073 22.3404 36.8032 22.5451 36.5475 22.8028L30.2501 29.1293V2.75065C30.2501 2.02113 29.9603 1.3215 29.4446 0.805653C28.9289 0.289808 28.2294 0 27.5 0C26.7707 0 26.0712 0.289808 25.5555 0.805653C25.0398 1.3215 24.75 2.02113 24.75 2.75065V2.75065Z" fill="#2D2B5C" />
                </svg>
                <h3 className="accordion-top__title">{title}</h3>
            </div>
            <div ref={accordionBody} className="accordion-body">
                <p className="accordion-body__text">{text}</p>
            </div>
        </li>
    )
}

export default AccordionItem